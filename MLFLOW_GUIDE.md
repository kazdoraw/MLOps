# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–±–æ—Ç–µ —Å MLflow

## –ß—Ç–æ —Ç–∞–∫–æ–µ MLflow UI?

MLflow UI - —ç—Ç–æ **–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è. –û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä.

## –°–ø–æ—Å–æ–±—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –°–ø–æ—Å–æ–± 1: –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –≤ Notebook ‚úÖ (–†–ê–ë–û–¢–ê–ï–¢ –°–†–ê–ó–£)

**–Ø—á–µ–π–∫–∞ 12** –≤ `hw1_final.ipynb` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ë–ï–ó –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:
- –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –º–æ–¥–µ–ª–∏
- –¢–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É, –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–∏–¥–Ω—ã –ø—Ä—è–º–æ –≤ notebook
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –±—Ä–∞—É–∑–µ—Ä–∞

### –°–ø–æ—Å–æ–± 2: MLflow UI Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å üåê (–¢–†–ï–ë–£–ï–¢ –ó–ê–ü–£–°–ö–ê –°–ï–†–í–ï–†–ê)

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª–Ω—ã–º –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º MLflow:

#### –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

**–í–∞—Ä–∏–∞–Ω—Ç A - –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```bash
cd HW1
./start_mlflow.sh
```

**–í–∞—Ä–∏–∞–Ω—Ç B - –ù–∞–ø—Ä—è–º—É—é:**
```bash
cd HW1
mlflow ui --backend-store-uri sqlite:///mlflow.db --port 5001
```

#### –®–∞–≥ 2: –û—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ: **http://127.0.0.1:5001**

#### –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–í MLflow UI –≤—ã –º–æ–∂–µ—Ç–µ:
- üìä –°—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã
- üìà –°—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ –º–µ—Ç—Ä–∏–∫
- üîç –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º
- üíæ –°–∫–∞—á–∏–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- üìù –î–æ–±–∞–≤–ª—è—Ç—å –∑–∞–º–µ—Ç–∫–∏ –∫ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã MLflow UI

**–í notebook (—è—á–µ–π–∫–∞ 14):**
```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç, –∑–∞–ø—É—â–µ–Ω –ª–∏ —Å–µ—Ä–≤–µ—Ä
# –ï—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω - –ø–æ–∫–∞–∂–µ—Ç –∫–Ω–æ–ø–∫—É –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
# –ï—Å–ª–∏ –Ω–µ—Ç - –ø–æ–∫–∞–∂–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –∑–∞–ø—É—Å–∫—É
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö MLflow

```
HW1/
‚îú‚îÄ‚îÄ mlflow.db           # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
‚îú‚îÄ‚îÄ mlruns/             # –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ 1/              # –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç ID=1
‚îÇ       ‚îú‚îÄ‚îÄ <run_id>/   # –ö–∞–∂–¥—ã–π –∑–∞–ø—É—Å–∫ train.py
‚îÇ       ‚îî‚îÄ‚îÄ models/     # –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îî‚îÄ‚îÄ models/
    ‚îú‚îÄ‚îÄ model.pkl       # –ü–æ—Å–ª–µ–¥–Ω—è—è –æ–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
    ‚îî‚îÄ‚îÄ confusion_matrix.png
```

## –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –ü–æ—á–µ–º—É —Å—Å—ã–ª–∫–∞ http://127.0.0.1:5001 –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è?
**A:** –°–µ—Ä–≤–µ—Ä MLflow UI –Ω–µ –∑–∞–ø—É—â–µ–Ω. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤—ã—à–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞.

### Q: –ü–æ—á–µ–º—É –ø–æ—Ä—Ç 5001, –∞ –Ω–µ 5000?
**A:** –ù–∞ macOS –ø–æ—Ä—Ç 5000 —á–∞—Å—Ç–æ –∑–∞–Ω—è—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º ControlCenter. –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ—Ä—Ç 5001.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞?
**A:** –î–∞! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **—è—á–µ–π–∫—É 12** –≤ notebook - –æ–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ.

### Q: –ö–∞–∫ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å MLflow UI?
**A:** –ù–∞–∂–º–∏—Ç–µ `Ctrl+C` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä.

### Q: –ú–æ–≥—É –ª–∏ —è –∑–∞–ø—É—Å—Ç–∏—Ç—å MLflow UI –Ω–∞ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É?
**A:** –î–∞, –∏–∑–º–µ–Ω–∏—Ç–µ `--port 5000` –Ω–∞ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä `--port 8080`.

### Q: –ö–∞–∫ –≤—Å—Ç—Ä–æ–∏—Ç—å MLflow UI –≤ notebook?
**A:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **—è—á–µ–π–∫—É 14** - –æ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç UI —á–µ—Ä–µ–∑ IFrame, –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω.

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ–∫—É—â–µ–π –º–æ–¥–µ–ª–∏

### –ú–µ—Ç—Ä–∏–∫–∏:
- **Accuracy**: 96.7%
- **Recall (–∫–ª–∞—Å—Å 1)**: 66.1% (—É–ª—É—á—à–µ–Ω–æ —Å 10%)
- **F1-score (–∫–ª–∞—Å—Å 1)**: 74.8% (—É–ª—É—á—à–µ–Ω–æ —Å 19%)

### –§–∞–π–ª—ã:
- `models/confusion_matrix.png` - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- `models/model.pkl` - –æ–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
python -c "import mlflow; mlflow.set_tracking_uri('sqlite:///mlflow.db'); print(mlflow.search_experiments())"

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–ø—É—Å–∫–æ–≤
python -c "import mlflow; mlflow.set_tracking_uri('sqlite:///mlflow.db'); print(mlflow.search_runs())"

# –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
rm -rf mlruns/ mlflow.db
```

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [MLflow Documentation](https://mlflow.org/docs/latest/index.html)
- [MLflow Tracking](https://mlflow.org/docs/latest/tracking.html)
- [MLflow UI](https://mlflow.org/docs/latest/tracking/tracking-ui.html)
